syntax = "proto3";
package proto;

option java_multiple_files = true;


option csharp_namespace = "Proto.Generated.Conf";
option java_package = "proto.generated.conf";



import "proto/setting.proto";



message Conf {
  ConfInfo Info = 1;

  repeated Hardware HControlList = 2;
  repeated Hardware HTempList = 3;
  repeated Hardware HFanList = 4;

  repeated IControl IControlList = 5;
  repeated IBehavior IBehaviorList = 6;
  repeated ISensor IFanList = 7;
  repeated ISensor ITempList = 8;
}



/*
    type ***********************
 */

enum HType {
  H_C_FAN = 0;
  H_S_FAN = 1;
  H_S_TEMP = 2;
}


enum IControlType {
  I_C_FAN = 0;
}

enum IBehaviorType {
  I_B_FLAT = 0;
  I_B_LINEAR = 1;
  I_B_TARGET = 2;
}

enum ISensorType {
  I_S_FAN = 0;
  I_S_TEMP = 1;
  I_S_CUSTOM_TEMP = 2;
}

/*
    *************************
 */



/*
    Hardware *****************
 */

message Hardware {
  string Id = 1;
  HType Type = 2;
}


/*
    ****************************
 */



message IControl {
  string Name = 1;
  string Id = 2;
  IControlType Type = 3;
  NullableId IBehaviorId = 4;
  bool IsAuto = 5;
  NullableId HControlId = 6;
}


/*
    Behavior **********************
 */

message IBehavior {
  string Name = 1;
  string Id = 2;
  IBehaviorType Type = 3;

  oneof kind {
    Linear Flat = 4;
    Linear Linear = 5;
    Linear Target = 6;
  }
}

message Flat {

}


message Linear {
  NullableId HTempId = 1;

  int32 MinTemp = 2;
  int32 MaxTemp = 3;
  int32 MinFanSpeed = 4;
  int32 MaxFanSpeed = 5;
}


message Target {
  NullableId HTempId = 1;

  int32 IdleTemp = 2;
  int32 LoadTemp = 3;
  int32 IdleFanSpeed = 4;
  int32 LoadFanSpeed = 5;
}

/*
    ***********************
 */


/*
    Item Sensors
 */


message ISensor {
  string Name = 1;
  string Id = 2;
  ISensorType Type = 3;

  oneof kind {
    Linear IFan = 4;
    Linear ITemp = 5;
    Linear ICustomTemp = 6;
  }
}

message IFan {
  NullableId HFanId = 1;
}

message ITemp {
  NullableId HTempId = 1;
}


message IcustomTemp {
  CustomTempType Type = 1;
  repeated string HTempIdList = 2;
}

enum CustomTempType {
  AVERAGE = 0;
  MAX = 1;
  MIN = 2;
}